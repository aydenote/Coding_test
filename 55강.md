## 55. 하노이의 탑

### Q.하노이의 탑은 프랑스 수학자 에두아르드가 처음으로 발표한 게임입니다. 하노이의 탑은 A, B, C 3개의 기둥과 기둥에 꽂을 수 있는 N 개의 원판으로 이루어져 있습니다. 이 게임에서는 다음의 규칙을 만족해야 합니다.

> 1. 처음에 모든 원판은 A 기둥에 꽂혀 있다.
> 2. 모든 원판의 지름은 다르다.
> 3. 이 원반은 세 개의 기둥 중 하나에 반드시 꽂혀야 한다.
> 4. 작은 원반 위에 큰 원반을 놓을 수 없다.
> 5. 한 번에 하나의 원판(가장 위에 있는 원판)만을 옮길 수 있다.

이 규칙을 만족하며 A 기둥에 있는 원반 N 개를 모두 C 원반으로 옮기고 싶습니다.
모든 원반을 옮기기 위해 실행되어야 할 최소 원반 이동 횟수를 계산하는 프로그램을 완성해 주세요.

1. 풀이

   > 하노이의 탑 문제를 크게 4개로 분류하여 이해했습니다.

   ```
    if (num === 1) {
    route.push([start, end]);
    return NaN;
    }
   ```

   함수 내부에서 `원반 수 -1`를 하여 재귀함수 호출을 합니다. 원반 수가 1이면 바로 도착점에 옮기면 되기 때문에 경로 배열에 시작점, 도착점을 push 합니다.

   ```
    hanoi(num-1, start, temp, end);
   ```

   2개 이상인 원반의 경우, 한 번에 밑에 있는 큰 원반을 도착점에 이동 시킬 수 없기 때문에 경유지를 거쳐가야 합니다.
   따라서, 도착점이 경유지이기 때문에 도착점과 경유지를 바꿔 재귀함수를 호출합니다.

   ```
     route.push([start, end]);
   ```

   가장 큰 원반을 제외한 모든 원반이 경유지로 다 옮겨졌고, 마지막 가장 큰 원반을 경로 배열에 push 합니다.

   ```
   hanoi(num-1, temp, end, start);
   ```

   마지막으로 경유지에 옮겨진 원반을 도착점까지 옮겨야 하기 때문에 시작점과 경유지를 바꿔 재귀함수를 호출합니다.

   모든 과정을 거치면 모든 경로가 경로 배열인 route에 저장되고 해당 배열의 길이를 구하면 이동 횟수를 알 수 있습니다.

```
const route = [];

function hanoi(num, start, end, temp){
  //원판이 한 개일 때에는 바로 옮기면 됩니다.
  if (num === 1) {
    route.push([start, end]);
    return NaN;
  }

  //원반이 n-1개를 경유기둥으로 옮기고
  hanoi(num-1, start, temp, end);
  //가장 큰 원반은 목표기둥으로
  route.push([start, end]);
  //경유기둥과 시작기둥을 바꿉니다.
  hanoi(num-1, temp, end, start);
}

hanoi(3, 'A', 'B', 'C');
console.log(route);
console.log(route.length);
```
